{"version":3,"file":"ixdzs8tw.user.js","sources":["ixdzs8tw.user.ts"],"sourcesContent":["// ==UserScript==\n// @name         ixdzs8.tw\n// @namespace    pl816098\n// @version      1.2.9.2\n// @description  自用\n// @author       paul\n// @match        https://ixdzs8.com/read/*/*.html\n// @match        https://ixdzs8.com/read/*/\n// @icon         https://www.google.com/s2/favicons?sz=64&domain=ixdzs8.tw\n// @license      MIT\n// @grant        GM_addStyle\n// @grant        window.close\n// @supportURL   https://github.com/Paul-16098/userjs/issues/\n// @homepageURL  https://github.com/Paul-16098/vs_code/blob/main/js/userjs/README.md\n// @downloadURL  https://github.com/Paul-16098/vs_code/raw/main/js/userjs/ixdzs8tw.user.js\n// @updateURL    https://github.com/Paul-16098/vs_code/raw/main/js/userjs/ixdzs8tw.user.js\n// ==/UserScript==\n\nlet ele = [];\nlet url = window.location.href;\n\nlet next_page_url = (\n  document.querySelector(\n    \"body > div.page-d.page-turn > div > a.chapter-paging.chapter-next\"\n  ) as HTMLAnchorElement\n).href;\n\nlet pattern = {\n  book: {\n    pattern:\n      /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/(?!end)p[0-9]*\\.html)$/gm,\n    is: (url: string) => {\n      if (pattern.book.pattern.test(url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  info: {\n    pattern: /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/)$/gm,\n    is: (url: string) => {\n      if (pattern.info.pattern.test(url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  end: {\n    pattern:\n      /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/end\\.html)$/gm,\n    is: (url: string) => {\n      if (pattern.end.pattern.test(url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n};\n\nif (pattern.book.is(url)) {\n  ele = [\n    \"#page-id3\",\n    \"#page-toolbar\",\n    \"#page > article > section > p:nth-child(1)\",\n  ];\n  ele.forEach((ele) => {\n    if (document.querySelector(ele)) {\n      document.querySelector(ele)!.remove();\n    }\n  });\n  GM_addStyle(`\n    .page-content{\nmax-width: none;\npadding: 10px 15px;\ntransform: translateX(0px);\nbackground: #ffffff!important;\n}\n`);\n}\nif (pattern.end.is(url) || pattern.end.is(next_page_url)) {\n  // console.log(\"end\")\n  if (pattern.end.is(next_page_url)) {\n    document.addEventListener(\"keydown\", function (e) {\n      if (!e.repeat) {\n        switch (true) {\n          case e.key === \"ArrowRight\": {\n            // console.log('(e.key === \"ArrowRight\") === true');\n            window.close();\n            break;\n          }\n          default: {\n            // console.log(\"e: \", e);\n            break;\n          }\n        }\n      }\n    });\n  }\n  if (pattern.end.is(url)) {\n    window.close();\n  }\n}\nif (pattern.info.is(url)) {\n  (document.querySelector(\"#intro\") as HTMLElement).click();\n}\n"],"names":["ele","url","window","location","href","next_page_url","document","querySelector","pattern","book","is","test","info","end","forEach","remove","GM_addStyle","addEventListener","e","repeat","key","close","click"],"mappings":";;;EACA,IAAIA,GAAAA,CAAM,EAAE,CACZ,IAAIC,GAAAA,CAAMC,MAAAA,CAAOC,QAAQ,CAACC,IAAI,CAE9B,IAAIC,aAAAA,CAAgB,QAClBC,CAASC,aAAa,CACpB,mEAAA,CAAA,CAEFH,IAAI,CAEN,IAAII,OAAAA,CAAU,CACZC,IAAAA,CAAM,CACJD,OAAAA,CACE,8EAAA,CACFE,EAAAA,CAAI,GAACT,EAAAA,CACH,GAAIO,OAAAA,CAAQC,IAAI,CAACD,OAAO,CAACG,IAAI,CAACV,GAAAA,CAAAA,CAAM,CAClC,OAAO,IACT,CAAA,KAAO,CACL,OAAO,KACT,CACF,CACF,CAAA,CACAW,IAAAA,CAAM,CACJJ,OAAAA,CAAS,0DAAA,CACTE,EAAAA,CAAI,GAACT,EAAAA,CACH,GAAIO,OAAAA,CAAQI,IAAI,CAACJ,OAAO,CAACG,IAAI,CAACV,GAAAA,CAAAA,CAAM,CAClC,OAAO,IACT,CAAA,KAAO,CACL,OAAO,KACT,CACF,CACF,CAAA,CACAY,GAAAA,CAAK,CACHL,OAAAA,CACE,mEAAA,CACFE,EAAAA,CAAI,GAACT,EAAAA,CACH,GAAIO,OAAAA,CAAQK,GAAG,CAACL,OAAO,CAACG,IAAI,CAACV,GAAAA,CAAAA,CAAM,CACjC,OAAO,IACT,CAAA,KAAO,CACL,OAAO,KACT,CACF,CACF,CACF,CAAA,CAEA,GAAIO,OAAAA,CAAQC,IAAI,CAACC,EAAE,CAACT,GAAAA,CAAAA,CAAM,CACxBD,GAAAA,CAAM,CACJ,WAAA,CACA,eAAA,CACA,4CAAA,CACD,CACDA,IAAIc,OAAO,CAAC,GAACd,EAAAA,CACX,GAAIM,QAAAA,CAASC,aAAa,CAACP,KAAM,CAC/BM,QAAAA,CAASC,aAAa,CAACP,GAAAA,CAAAA,CAAMe,MAAM,GACrC,CACF,GACAC,WAAAA,CAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EACD,CACA,GAAIR,OAAAA,CAAQK,GAAG,CAACH,EAAE,CAACT,GAAAA,CAAAA,EAAQO,OAAAA,CAAQK,GAAG,CAACH,EAAE,CAACL,aAAAA,CAAAA,CAAgB;EAExD,GAAIG,OAAAA,CAAQK,GAAG,CAACH,EAAE,CAACL,aAAAA,CAAAA,CAAgB,CACjCC,QAAAA,CAASW,gBAAgB,CAAC,SAAA,CAAW,SAAUC,CAAC,CAAA,CAC9C,GAAI,CAACA,CAAAA,CAAEC,MAAM,CAAE,CACb,OAAQ,IAAA,EACN,KAAKD,CAAAA,CAAEE,GAAG,GAAK,YAAA,CAAc;EAE3BlB,MAAAA,CAAOmB,KAAK,EAAA,CACZ,KACF,CAKF,CACF,CACF,GACF,CACA,GAAIb,QAAQK,GAAG,CAACH,EAAE,CAACT,GAAAA,CAAAA,CAAM,CACvBC,MAAAA,CAAOmB,KAAK,GACd,CACF,CACA,GAAIb,OAAAA,CAAQI,IAAI,CAACF,EAAE,CAACT,GAAAA,CAAAA,CAAM,CACxB,QAACK,CAASC,aAAa,CAAC,QAAA,CAAA,CAA0Be,KAAK,GACzD;;;;;;"}