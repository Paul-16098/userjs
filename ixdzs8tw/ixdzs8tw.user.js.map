{"version":3,"sources":["ixdzs8tw.user.ts"],"sourcesContent":["// ==UserScript==\r\n// @name         ixdzs8.tw\r\n// @namespace    pl816098\r\n// @version      1.2.9.2\r\n// @description  自用\r\n// @author       paul\r\n// @match        https://ixdzs8.com/read/*/*.html\r\n// @match        https://ixdzs8.com/read/*/\r\n// @icon         https://www.google.com/s2/favicons?sz=64&domain=ixdzs8.tw\r\n// @license      MIT\r\n// @grant        GM_addStyle\r\n// @grant        window.close\r\n// @supportURL   https://github.com/Paul-16098/userjs/issues/\r\n// @homepageURL  https://github.com/Paul-16098/vs_code/blob/main/js/userjs/README.md\r\n// @downloadURL  https://github.com/Paul-16098/vs_code/raw/main/js/userjs/ixdzs8tw.user.js\r\n// @updateURL    https://github.com/Paul-16098/vs_code/raw/main/js/userjs/ixdzs8tw.user.js\r\n// ==/UserScript==\r\n\r\nlet ele = [];\r\nlet url = window.location.href;\r\n\r\nlet next_page_url = (\r\n  document.querySelector(\r\n    \"body > div.page-d.page-turn > div > a.chapter-paging.chapter-next\"\r\n  ) as HTMLAnchorElement\r\n).href;\r\n\r\nlet pattern = {\r\n  book: {\r\n    pattern:\r\n      /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/(?!end)p[0-9]*\\.html)$/gm,\r\n    is: (url: string) => {\r\n      if (pattern.book.pattern.test(url)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  info: {\r\n    pattern: /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/)$/gm,\r\n    is: (url: string) => {\r\n      if (pattern.info.pattern.test(url)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  end: {\r\n    pattern:\r\n      /^(https?:\\/\\/)(ixdzs8\\.[a-zA-Z]{1,3}\\/read\\/[0-9]+\\/end\\.html)$/gm,\r\n    is: (url: string) => {\r\n      if (pattern.end.pattern.test(url)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\nif (pattern.book.is(url)) {\r\n  ele = [\r\n    \"#page-id3\",\r\n    \"#page-toolbar\",\r\n    \"#page > article > section > p:nth-child(1)\",\r\n  ];\r\n  ele.forEach((ele) => {\r\n    if (document.querySelector(ele)) {\r\n      document.querySelector(ele)!.remove();\r\n    }\r\n  });\r\n  GM_addStyle(`\r\n    .page-content{\r\nmax-width: none;\r\npadding: 10px 15px;\r\ntransform: translateX(0px);\r\nbackground: #ffffff!important;\r\n}\r\n`);\r\n}\r\nif (pattern.end.is(url) || pattern.end.is(next_page_url)) {\r\n  // console.log(\"end\")\r\n  if (pattern.end.is(next_page_url)) {\r\n    document.addEventListener(\"keydown\", function (e) {\r\n      if (!e.repeat) {\r\n        switch (true) {\r\n          case e.key === \"ArrowRight\": {\r\n            // console.log('(e.key === \"ArrowRight\") === true');\r\n            window.close();\r\n            break;\r\n          }\r\n          default: {\r\n            // console.log(\"e: \", e);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  if (pattern.end.is(url)) {\r\n    window.close();\r\n  }\r\n}\r\nif (pattern.info.is(url)) {\r\n  (document.querySelector(\"#intro\") as HTMLElement).click();\r\n}\r\n"],"names":["ele","url","window","location","href","next_page_url","document","querySelector","pattern","book","is","test","info","end","forEach","remove","GM_addStyle","addEventListener","e","repeat","key","close","click"],"mappings":"AASA,oBAAoB;aASpB,IAAIA,IAAM,EAAE,CACZ,IAAIC,IAAMC,OAAOC,QAAQ,CAACC,IAAI,CAE9B,IAAIC,cAAgB,AAClBC,SAASC,aAAa,CACpB,qEAEFH,IAAI,CAEN,IAAII,QAAU,CACZC,KAAM,CACJD,QACE,+EACFE,GAAI,AAACT,MACH,GAAIO,QAAQC,IAAI,CAACD,OAAO,CAACG,IAAI,CAACV,KAAM,CAClC,OAAO,IACT,KAAO,CACL,OAAO,KACT,CACF,CACF,EACAW,KAAM,CACJJ,QAAS,2DACTE,GAAI,AAACT,MACH,GAAIO,QAAQI,IAAI,CAACJ,OAAO,CAACG,IAAI,CAACV,KAAM,CAClC,OAAO,IACT,KAAO,CACL,OAAO,KACT,CACF,CACF,EACAY,IAAK,CACHL,QACE,oEACFE,GAAI,AAACT,MACH,GAAIO,QAAQK,GAAG,CAACL,OAAO,CAACG,IAAI,CAACV,KAAM,CACjC,OAAO,IACT,KAAO,CACL,OAAO,KACT,CACF,CACF,CACF,EAEA,GAAIO,QAAQC,IAAI,CAACC,EAAE,CAACT,KAAM,CACxBD,IAAM,CACJ,YACA,gBACA,6CACD,CACDA,IAAIc,OAAO,CAAC,AAACd,MACX,GAAIM,SAASC,aAAa,CAACP,KAAM,CAC/BM,SAASC,aAAa,CAACP,KAAMe,MAAM,EACrC,CACF,GACAC,YAAY;AAAE;AACE;AACH;AACE;AACO;AACE;AAAE,AAE5B,CAAC,CACD,CACA,GAAIR,QAAQK,GAAG,CAACH,EAAE,CAACT,MAAQO,QAAQK,GAAG,CAACH,EAAE,CAACL,eAAgB,CAExD,GAAIG,QAAQK,GAAG,CAACH,EAAE,CAACL,eAAgB,CACjCC,SAASW,gBAAgB,CAAC,UAAW,SAAUC,CAAC,EAC9C,GAAI,CAACA,EAAEC,MAAM,CAAE,CACb,OAAQ,MACN,KAAKD,EAAEE,GAAG,GAAK,aAAc,CAE3BlB,OAAOmB,KAAK,GACZ,KACF,CACA,QAAS,CAEP,KACF,CACF,CACF,CACF,EACF,CACA,GAAIb,QAAQK,GAAG,CAACH,EAAE,CAACT,KAAM,CACvBC,OAAOmB,KAAK,EACd,CACF,CACA,GAAIb,QAAQI,IAAI,CAACF,EAAE,CAACT,KAAM,CACxB,AAACK,SAASC,aAAa,CAAC,UAA0Be,KAAK,EACzD"}